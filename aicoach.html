<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Coach - Her Momentum Network</title>
  <link rel="stylesheet" href="assets/styles.css"/>
  <style>
    /* Quick inline styles for AI chat */
    .glow-button {
      box-shadow: 0 0 5px rgba(255,107,53,0.5),0 0 10px rgba(255,107,53,0.3),0 0 15px rgba(255,107,53,0.2),0 0 20px rgba(255,107,53,0.1);
      transition: all 0.3s ease-in-out;
    }
    .glow-button:hover {
      box-shadow: 0 0 10px rgba(255,107,53,0.6),0 0 20px rgba(255,107,53,0.4),0 0 30px rgba(255,107,53,0.3),0 0 40px rgba(255,107,53,0.2);
      transform: scale(1.05);
    }
    #ai-widget {
      max-height: 400px;
      overflow: hidden;
    }
    .chat-container { max-height: 300px; overflow-y: auto; padding: 8px; background:#1a1a1a; color:white;}
    .msg.user { text-align: right; background: #ff6b35; margin:5px; padding:8px; border-radius:12px; color:white;}
    .msg.ai { text-align: left; background:#2d2d2d; margin:5px; padding:8px; border-radius:12px;}
  </style>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <div class="logo" aria-hidden="true">HM</div>
      <div class="brand-text">
        <h1>Her Momentum Network</h1>
        <p class="tagline">From athlete to leader â€” sustainably supported.</p>
      </div>
    </div>
    <nav class="top-nav" aria-label="Main navigation">
      <a href="profile.html" class="nav-btn">Profile</a>
      <a href="dashboard.html" class="nav-btn">Dashboard</a>
      <a href="mentorship.html" class="nav-btn">Mentorship</a>
      <a href="therapy.html" class="nav-btn">Therapy</a>
      <a href="events.html" class="nav-btn">Events</a>
      <a href="opportunities.html" class="nav-btn">Opportunities</a>
      <a href="aicoach.html" class="nav-btn active">MoreMentum AI</a>
    </nav>
  </header>

  <main>
    <section id="ai-coach" class="view active" aria-labelledby="ai-title">
      <h2 id="ai-title">MoreMentum AI Coach</h2>
      <div class="grid two">
        <article class="card">
          <h3>Quick Prompts</h3>
          <div class="chips">
            <button class="chip ask" data-q="Create a 30-day transition plan from athlete to coach.">30â€‘day plan</button>
            <button class="chip ask" data-q="Draft a sponsor-ready bio in 120 words.">Sponsor bio</button>
            <button class="chip ask" data-q="Outline a content strategy for Instagram Reels.">Reels strategy</button>
            <button class="chip ask" data-q="What KPIs should I track for my personal brand?">Brand KPIs</button>
          </div>
        </article>
        <article class="card">
          <h3>Career Pathways (Sample)</h3>
          <ul class="pill-list">
            <li>Coach</li><li>Entrepreneur</li><li>Performance Analyst</li><li>Sports Media</li><li>Community Leader</li>
          </ul>
          <p class="muted small">AI-suggested based on profile & goals.</p>
        </article>
      </div>
    </section>
  </main>

  <!-- Floating AI chat button -->
  <button id="show-ai" class="glow-button fixed bottom-6 right-6 w-14 h-14 orange-gradient rounded-full flex items-center justify-center shadow-lg">
    ðŸ¤–
  </button>

  <!-- AI Chat Widget -->
  <div id="ai-widget" class="fixed bottom-6 right-6 w-80 bg-gray-800 rounded-2xl border border-gray-700 shadow-xl flex flex-col overflow-hidden hidden z-50">
    <div class="orange-gradient text-white px-4 py-3 font-semibold flex justify-between items-center">
      <span>MoreMentum AI Coach</span>
      <button onclick="toggleAI()" class="text-white/80 hover:text-white transition">âœ–</button>
    </div>
    <div id="ai-chat" class="chat-container"></div>
    <form id="ai-form" class="flex p-3 border-t border-gray-700 bg-gray-800">
      <input id="ai-input" type="text" placeholder="Ask the AI Coach..." />
      <button type="submit" class="ml-2 px-4 py-2 orange-gradient rounded-xl text-white">Send</button>
    </form>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script>
    // ----- TOAST -----
    const toast = (msg) => {
      const el = document.getElementById("toast");
      if (!el) { console.log("[toast]", msg); return; }
      el.textContent = msg;
      el.classList.add("show");
      setTimeout(() => el.classList.remove("show"), 2200);
    };

    // ----- AI Chat -----
    const showBtn = document.getElementById("show-ai");
    const widget = document.getElementById("ai-widget");
    const chatLog = document.getElementById("ai-chat");
    const aiForm = document.getElementById("ai-form");
    const aiInput = document.getElementById("ai-input");

    showBtn.addEventListener("click", () => {
      widget.classList.remove("hidden");
      showBtn.classList.add("hidden");
      aiInput.focus();
    });

    function toggleAI() {
      widget.classList.add("hidden");
      showBtn.classList.remove("hidden");
    }

    function appendMsg(sender, text) {
      const msg = document.createElement("div");
      msg.className = "msg " + sender;
      msg.textContent = text;
      chatLog.appendChild(msg);
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    function generateAIResponse(text) {
      const t = text.toLowerCase();
      if (t.includes("plan")) return "30-day transition plan: Week1 mindset, Week2 network, Week3 skills, Week4 launch.";
      if (t.includes("bio")) return "Draft Bio: 'Driven athlete transitioning into leadership, empowering others sustainably.'";
      if (t.includes("strategy")) return "Reels strategy: 3x weekly, mix behind-the-scenes, training, and storytelling.";
      if (t.includes("kpi")) return "KPIs: engagement rate, audience growth, sponsor mentions, consistency.";
      return "Great question! Can you give more context so I can advise?";
    }

    aiForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const msg = aiInput.value.trim();
      if (!msg) return;
      appendMsg("user", msg);
      aiInput.value = "";
      setTimeout(() => appendMsg("ai", generateAIResponse(msg)), 600);
    });

    // Quick prompt chips
    document.querySelectorAll(".chip.ask").forEach(chip => {
      chip.addEventListener("click", () => {
        const text = chip.dataset.q;
        appendMsg("user", text);
        setTimeout(() => appendMsg("ai", generateAIResponse(text)), 600);
      });
    });
  </script>
  <section class="forum card" style="margin-top:2rem;">
  <h3>Community Chat Room</h3>
  <div id="forumLog" style="max-height: 300px; overflow-y:auto; border:1px solid #444; padding:8px; border-radius:12px; background:#1a1a1a;"></div>
  <form id="forumForm" style="margin-top:8px; display:flex; gap:8px;">
    <input id="forumName" placeholder="Your name" style="width:120px; padding:6px; border-radius:6px; border:1px solid #555; background:#111; color:white;" />
    <input id="forumInput" placeholder="Say something..." style="flex:1; padding:8px; border-radius:8px; border:1px solid #555; background:#111; color:white;"/>
    <button type="submit" class="primary" style="padding:8px 12px;">Post</button>
  </form>
</section>

<script>
const forumForm = document.getElementById("forumForm");
const forumInput = document.getElementById("forumInput");
const forumName = document.getElementById("forumName");
const forumLog = document.getElementById("forumLog");

// Load saved posts
const savedPosts = JSON.parse(localStorage.getItem("communityPosts") || "[]");
savedPosts.forEach(p => appendPost(p.name, p.text));

// Handle new posts
forumForm.addEventListener("submit", (e) => {
  e.preventDefault();
  const name = forumName.value.trim() || "Anonymous";
  const text = forumInput.value.trim();
  if (!text) return;
  appendPost(name, text);
  savedPosts.push({ name, text });
  localStorage.setItem("communityPosts", JSON.stringify(savedPosts));
  forumInput.value = "";
});

// Append post to forum log
function appendPost(name, text) {
  const div = document.createElement("div");
  div.style.padding = "6px 10px";
  div.style.marginBottom = "6px";
  div.style.borderRadius = "10px";
  div.style.background = "#222";
  div.innerHTML = `<strong style="color:#ff8c42">${name}:</strong> ${text}`;
  forumLog.appendChild(div);
  forumLog.scrollTop = forumLog.scrollHeight;
}
</script>

</body>
</html>
